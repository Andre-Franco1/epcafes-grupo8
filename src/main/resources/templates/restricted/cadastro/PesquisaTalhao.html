<html th:replace="~{fragments/TemplateBase :: layout (~{:: main})}">

<body>
	<main>
		<div class="text-center">
			<h3>Pesquisa de talhões</h3>
		</div>
		
		<div class="container">
		
			<div class="col-mt-2">
				<button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#modalCriacao">Adicionar talhão</button>
			</div>
			<div class="modal fade" id="modalCriacao" tabindex="-1" aria-labelledby="modalCriacaoLabel" aria-hidden="true">
			            <div class="modal-dialog modal-sm">
			                <div class="modal-content">
			                    <div class="modal-header">
			                        <h5 class="modal-title" id="modalCriacaoLabel">Cadastro talhão </h5>
			                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			                    </div>
					
								<form action="/talhao/adicionar" method="POST" class="card-body">
									
									<div>
										<div class="p-4">
											<label for="nome">Nome</label> 
											<input type="text" class="form-control" name="nome" 
											id="nome" placeholder="Talhao 1" required>
										</div>
										<div class="p-4">
											<label for="area">Área (ha)</label> 
											<input type="text" class="form-control" name="area" 
											id="area" placeholder="5.5" required min="0">
										</div>
									</div>
									<div class="modal-footer">
										<a th:href="@{/talhao}" class="btn btn-secondary">Voltar</a>
										<button type="submit" class="btn btn-success">Enviar</button>
									</div>
								</form>
							</div>
						</div>
					</div>
				
				
		
	
			<div class="card mt-3">
	
				<table id="tabela"
					class="table table-striped table-advance table-hover">
					<tbody>
						<tr>
							<th></th>
							<th>Id</th>
							<th>Nome</th>
							<th>Área (ha)</th>
							<th>Propriedade</th>
							<th class="text-center">Ações</th>
						</tr>
						<tr th:each="talhao : ${talhoes}">
							<td></td>
							<td th:text="${talhao.id}"></td>
							<td th:text="${talhao.nome}"></td>
							<td th:text="${talhao.area}"></td>
							<td th:text="${talhao.propriedade.nome}"></td>
							<td class="text-center">
								
								<a class="btn btn-warning text-light">
	                
	                            	<i class="bi bi-pencil-square"></i>
	                        	</a>
	                        	
	                        	<a th:method="delete"
	                            	th:href="@{'/talhao/deletar/' + ${talhao.id}}" class="btn btn-danger">
	                            	<i class="bi bi-trash3-fill"></i>
	                            </a>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		
		
		</div>
	</main>
</body>

</html>